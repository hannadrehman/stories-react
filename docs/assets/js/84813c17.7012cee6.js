/*! For license information please see 84813c17.7012cee6.js.LICENSE.txt */
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[295],{876:function(e,t,n){n.d(t,{kt:function(){return d}});var r=n(2784);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),a=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,s=e.originalType,c=e.parentName,f=u(e,["components","mdxType","originalType","parentName"]),d=a(n),p=o,m=d["".concat(c,".").concat(p)]||d[p]||l[p]||s;return n?r.createElement(m,i(i({ref:t},f),{},{components:n})):r.createElement(m,i({ref:t},f))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=n.length,i=new Array(s);i[0]=f;var u={};for(var c in t)hasOwnProperty.call(t,c)&&(u[c]=t[c]);u.originalType=e,u.mdxType="string"==typeof e?e:o,i[1]=u;for(var a=2;a<s;a++)i[a]=n[a];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},1558:function(e,t,n){n.d(t,{Z:function(){return O}});var r=n(2322),o=n(2784),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},i=(0,o.createContext)({stories:[],width:"100%",height:"100%",defaultDuration:1e4,isPaused:!1});Object.freeze({MOUSE_DOWN:"mouseDown",MOUSE_UP:"mouseUp",TOUCH_START:"touchStart",TOUCH_END:"touchEnd"});var u=Object.freeze({LEFT:"left",RIGHT:"right"});function c(e){var t=e.onNextClick,n=e.onPrevClick,i=e.onPause,c=e.onResume,a=(0,o.useState)(!1),l=a[0],f=a[1],d=(0,o.useRef)(null);function p(e){e.stopPropagation(),e.preventDefault(),clearTimeout(d.current),d.current=setTimeout((function(){i(),f(!0)}),200)}function m(e,r){if(r.stopPropagation(),r.preventDefault(),clearTimeout(d.current),l)return c(),void f(!1);c(),e!=u.LEFT?t():n()}function v(e){return{onMouseUp:function(t){return m(e,t)},onTouchEnd:function(t){return m(e,t)},onTouchStart:function(e){return p(e)},onMouseDown:function(e){return p(e)}}}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",s({className:"Actions-styles_left__eky50"},v(u.LEFT))),(0,r.jsx)("div",s({className:"Actions-styles_right__zguoH"},v(u.RIGHT)))]})}function a(){return(0,o.useContext)(i)}var l=0,f=.1;function d(e){var t,n,i,u,c,d=a(),p=d.defaultDuration,m=d.classNames,v=(0,o.useRef)(null),y=(0,o.useRef)(null),h=(0,o.useState)(!1),x=h[0],g=h[1];return(0,o.useEffect)((function(){!e.isPaused&&e.isActive&&e.isActive?g(!0):g(!1)}),[e.isActive,e.isPaused]),(0,o.useEffect)((function(){var t;v.current&&(e.hasStoryPassed?v.current.style.width="".concat(null===(t=null==y?void 0:y.current)||void 0===t?void 0:t.offsetWidth,"px"):v.current.style.width="0px")}),[e.hasStoryPassed,e.isActive]),t=function(t){var n;v.current&&y.current&&((l=Number((v.current.style.width||"1px").slice(0,v.current.style.width.length-2))||0)>y.current.offsetWidth?g(!1):(f=(null===(n=null==y?void 0:y.current)||void 0===n?void 0:n.offsetWidth)/((e.story.duration||p)/t),v.current.style.width="".concat(l+f,"px")))},n=x,i=(0,o.useRef)(),u=(0,o.useRef)(),c=(0,o.useRef)(t),(0,o.useEffect)((function(){c.current=t}),[t]),(0,o.useEffect)((function(){return!1!==n?(i.current=requestAnimationFrame((function e(t){if(null!=u.current){var n=t-u.current;c.current(n)}u.current=t,i.current=requestAnimationFrame(e)})),function(){cancelAnimationFrame(i.current),i.current=null,u.current=null}):function(){i.current&&(i.current=null),cancelAnimationFrame(i.current),u.current=null}}),[n]),(0,r.jsx)("div",s({className:"".concat("ProgressBar-styles_wrapper__oqUCo"," ").concat((null==m?void 0:m.progressBarContainer)||""),ref:y},{children:(0,r.jsx)("div",{className:"".concat("ProgressBar-styles_bar__x0O50"," ").concat((null==m?void 0:m.progressBar)||""),ref:v})}))}function p(e){var t=a(),n=t.stories,o=t.classNames;return(0,r.jsx)("div",s({className:"".concat("progress-styles_wrapper__qQPyW"," ").concat((null==o?void 0:o.progressContainer)||""),style:{gridTemplateColumns:"repeat(".concat(n.length,",1fr)")}},{children:n.map((function(t){return(0,r.jsx)(d,{hasStoryPassed:t.index<e.activeStoryIndex,isActive:t.index===e.activeStoryIndex,story:t,isPaused:t.index===e.activeStoryIndex&&e.isPaused},t.index)}))}))}var m=Object.freeze({IMAGE:"image",VIDEO:"video",COMPONENT:"component"});function v(e){return(0,o.useEffect)((function(){e.onPause()}),[]),(0,r.jsx)("img",{className:"Image-styles_image__gnfW1",src:e.story.url,alt:"story",onLoad:function(){setTimeout((function(){e.onResume()}),4)}})}var y;function h(e){return"off"===e.type?(0,r.jsx)("svg",s({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white"},{children:(0,r.jsx)("path",{d:"M3 9v6h-1v-6h1zm13-7l-9 5v2.288l7-3.889v13.202l-7-3.889v2.288l9 5v-20zm-11 5h-5v10h5v-10zm17.324 4.993l1.646-1.659-1.324-1.324-1.651 1.67-1.665-1.648-1.316 1.318 1.67 1.657-1.65 1.669 1.318 1.317 1.658-1.672 1.666 1.653 1.324-1.325-1.676-1.656z"})})):(0,r.jsx)("svg",s({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white"},{children:(0,r.jsx)("path",{d:"M22 0v24l-11-6v-2.278l9 4.909v-17.262l-9 4.91v-2.279l11-6zm-13 6v12h-7v-12h7zm-2 2h-3v8h3v-8z"})}))}var x="RSIsMute",g="undefined"==typeof window?{}:window;function j(e){var t,n=a().isPaused,i=(0,o.useState)("true"===(null===(t=null==g?void 0:g.localStorage)||void 0===t?void 0:t.getItem(x))),u=i[0],c=i[1],l=(0,o.useState)(!1),f=l[0],d=l[1],p=(0,o.useRef)(null);function m(e){var t;null===(t=null==g?void 0:g.localStorage)||void 0===t||t.setItem(x,String(e)),c(e)}return(0,o.useEffect)((function(){e.onPause(),d(!0)}),[]),(0,o.useEffect)((function(){p.current&&(!n||p.current.paused?p.current.play().catch((function(){var e;m(!0),null===(e=p.current)||void 0===e||e.play()})):p.current.pause())}),[n]),(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("video",s({className:"Video-styles_video__BykuO",ref:p,playsInline:!0,"webkit-playsinline":"",controls:!1,src:e.story.url,onLoadedData:function(){setTimeout((function(){e.onResume(),d(!1)}),4)},muted:u},{children:[(0,r.jsx)("source",{src:e.story.url,type:"video/mp4"}),(0,r.jsx)("source",{src:e.story.url,type:"video/webm"}),(0,r.jsx)("source",{src:e.story.url,type:"video/ogg"}),(0,r.jsx)("p",{children:"Video not supported"})]})),(0,r.jsx)("div",s({className:"Video-styles_soundIcon__ZvYXE",onClick:function(){return m(!u)}},{children:(0,r.jsx)(h,{type:u?"off":"on"})})),f&&(0,r.jsx)("div",s({className:"Video-styles_loaderWrapper__TqVWk"},{children:(0,r.jsx)("div",{className:"Video-styles_loader__FxxSV"})}))]})}null===(y=null==g?void 0:g.localStorage)||void 0===y||y.setItem(x,"true");function w(e){return(0,r.jsx)("div",s({className:"CustomComponents-styles_component__w87Wx"},{children:(0,r.jsx)(e.story.component,{pause:e.onPause,resume:e.onResume,story:e.story,isPaused:e.isPaused})}))}function _(e){return e.story.seeMore?(0,r.jsx)("button",s({type:"button",onClick:function(){e.onSeeMoreClick()},className:"SeeMore-styles_seeMoreWrapper__kwjif"},{children:function(){var t=e.story.seeMore,n=typeof t;if(["string","boolean"].includes(n)){var o="string"===n?t:"See More";return(0,r.jsxs)("div",s({className:"SeeMore-styles_defaultSeeMore__-B1QW"},{children:[(0,r.jsx)("span",{children:"^"}),(0,r.jsx)("p",{children:o})]}))}return"function"===n?(0,r.jsx)(e.story.seeMore,{}):e.story.seeMore}()})):null}function b(e){return e.story.seeMore&&e.story.seeMoreComponent?(0,r.jsxs)("div",s({className:"SeeMoreComponent-styles_seeMoreComponentWrapper__0T6Ap"},{children:[(0,r.jsx)("button",s({className:"SeeMoreComponent-styles_closeIcon__LMm3b",onClick:e.onClose},{children:"\u2715"})),"function"==typeof e.story.seeMoreComponent?(0,r.jsx)(e.story.seeMoreComponent,{}):e.story.seeMoreComponent]})):null}function S(e){var t=(0,o.useState)(!1),n=t[0],i=t[1],u=a().classNames;return(0,o.useEffect)((function(){i(!1)}),[e.story]),(0,r.jsxs)("div",s({className:"".concat("Story-styles_wrapper__oJP7j"," ").concat((null==u?void 0:u.storyContainer)||"")},{children:[e.story.type===m.IMAGE?(0,r.jsx)(v,s({},e)):e.story.type===m.VIDEO?(0,r.jsx)(j,s({},e)):e.story.type===m.COMPONENT?(0,r.jsx)(w,s({},e)):null,e.story.header&&(0,r.jsx)("div",s({className:"Story-styles_header__-rnWL"},{children:"function"==typeof e.story.header?(0,r.jsx)(e.story.header,{}):e.story.header})),(0,r.jsx)(_,{onSeeMoreClick:function(){var t,n;e.onPause(),i(!0),null===(n=(t=e.story).onSeeMoreClick)||void 0===n||n.call(t,e.story.index)},story:e.story}),n&&(0,r.jsx)(b,{story:e.story,onClose:function(){e.onResume(),i(!1)}})]}))}function E(e){return void 0===e&&(e=4),Number(Math.random().toFixed(e))}function O(e){var t,n,u,a,l,f,d,m,v,y=e.stories,h=void 0===y?[]:y,x=e.width,g=void 0===x?"100%":x,j=e.height,w=void 0===j?"100%":j,_=e.onStoryChange,b=void 0===_?function(){}:_,O=e.currentIndex,P=void 0===O?0:O,C=e.defaultDuration,N=void 0===C?1e4:C,M=e.onAllStoriesEnd,T=void 0===M?function(){}:M,k=e.onStoriesStart,I=void 0===k?function(){}:k,R=e.classNames,D=void 0===R?{}:R,A=e.pauseStoryWhenInActiveWindow,W=void 0===A||A,L=(0,o.useMemo)((function(){return function(e,t){var n=0;return e.map((function(e,r){var o=e.duration||t,i=o+E();return i===n&&(i=o+E(6)),n=i,s(s({},e),{index:r,calculatedDuration:i})}))}(h,N)}),[h,N]),F=(0,o.useState)(),B=F[0],z=F[1],U=h.length-1,V=(0,o.useState)(!1),q=V[0],H=V[1],Z=(0,o.useRef)(!1),G=(0,o.useRef)(!1);function X(){Z.current||(null==B?void 0:B.index)!==U||(T(),Z.current=!0),(null==B?void 0:B.index)!==U&&z((function(e){if(!e)return L[0];var t=(null==e?void 0:e.index)+1;return L[t]}))}function Q(){H(!0)}function Y(){H(!1)}(0,o.useEffect)((function(){G.current||(G.current=!0,I())}),[I]),(0,o.useEffect)((function(){var e=L[P];e&&z(e)}),[P,h]),(0,o.useEffect)((function(){B&&b(B.index)}),[B]),n=function(){X()},u=null!==(t=null==B?void 0:B.calculatedDuration)&&void 0!==t?t:null,a=q,l=(0,o.useRef)(),f=(0,o.useRef)(u),d=(0,o.useRef)(Date.now()),(0,o.useEffect)((function(){l.current=n}),[n]),(0,o.useEffect)((function(){f.current=u}),[u]),(0,o.useEffect)((function(){if(null!==u&&!1===a){d.current=Date.now();var e=setTimeout((function(){l.current()}),f.current);return function(){clearTimeout(e)}}return function(){}}),[u,a]),(0,o.useEffect)((function(){a&&(f.current=f.current-(Date.now()-d.current))}),[a]),m=function(e){W&&H(!e)},v=(0,o.useRef)(m),(0,o.useEffect)((function(){v.current=m}),[m]),(0,o.useEffect)((function(){function e(){v.current(!0)}function t(){v.current(!1)}return window.addEventListener("focus",e),window.addEventListener("blur",t),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[]);var $={stories:L,width:g,height:w,defaultDuration:N,isPaused:q,classNames:D};return B?(0,r.jsx)(i.Provider,s({value:$},{children:(0,r.jsxs)("div",s({className:"".concat("styles_main__-0FEu"," ").concat(D.main||""),style:{width:g,height:w}},{children:[(0,r.jsx)(p,{activeStoryIndex:B.index,isPaused:q}),(0,r.jsx)(S,{onPause:Q,onResume:Y,story:B,isPaused:q},B.index),(0,r.jsx)(c,{onNextClick:X,onPrevClick:function(){0!==(null==B?void 0:B.index)&&z((function(e){if(!e)return L[0];var t=(null==e?void 0:e.index)-1;return L[t]}))},onPause:Q,onResume:Y})]}))})):null}},7549:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return f},default:function(){return y},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return m}});var r=n(7896),o=n(1461),s=n(2784),i=n(876),u=n(1558);function c(){return s.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginBottom:"16px"}},s.createElement(u.Z,{width:"400px",height:"600px",stories:[{type:"image",url:"https://images.pexels.com/photos/9470805/pexels-photo-9470805.jpeg?w=300",duration:5e3},{type:"image",duration:6e3,url:"https://images.pexels.com/photos/9733197/pexels-photo-9733197.jpeg?w=300"},{duration:7e3,type:"image",url:"https://images.pexels.com/photos/10964888/pexels-photo-10964888.jpeg?w=300"},{duration:7e3,type:"image",url:"https://images.pexels.com/photos/10985425/pexels-photo-10985425.jpeg?w=300"}],classNames:{main:"custom-container",progressContainer:"custom-progress-container",progressBarContainer:"custom-progress-bar-container",progressBar:"custon-progress-bar",storyContainer:"custom-story-container"}}))}var a=["components"],l={sidebar_position:1},f="Image Stories",d={unversionedId:"tutorial-basics/image-stories",id:"tutorial-basics/image-stories",title:"Image Stories",description:"",source:"@site/docs/tutorial-basics/image-stories.mdx",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/image-stories",permalink:"/stories-react/docs/tutorial-basics/image-stories",editUrl:"https://github.com/hannadrehman/stories-react/tree/main/packages/documentation/docs/tutorial-basics/image-stories.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Intro",permalink:"/stories-react/docs/intro"},next:{title:"Video Stories",permalink:"/stories-react/docs/tutorial-basics/video-stories"}},p={},m=[],v={toc:m};function y(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"image-stories"},"Image Stories"),(0,i.kt)(c,{mdxType:"ImageStories"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"\nimport React from 'react';\nimport Stories from 'stories-react';\nimport 'stories-react/dist/index.css';\n\nexport default function ImagesStories() {\n  const stories = [\n    {\n      type: 'image',\n      url: 'https://images.pexels.com/photos/9470805/pexels-photo-9470805.jpeg?w=300',\n      duration: 5000,\n    },\n    {\n      type: 'image',\n      duration: 6000,\n      url: 'https://images.pexels.com/photos/9733197/pexels-photo-9733197.jpeg?w=300',\n    },\n    {\n      duration: 7000,\n      type: 'image',\n      url: 'https://images.pexels.com/photos/9470805/pexels-photo-9470805.jpeg?w=300',\n    },\n  ];\n\n  return (\n      <Stories\n        width=\"400px\"\n        height=\"600px\"\n        stories={stories}\n      />\n  );\n}\n\n")))}y.isMDXComponent=!0},1837:function(e,t,n){n(7320);var r=n(2784),o=60103;if(60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;o=s("react.element"),s("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,n){var r,s={},a=null,l=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:a,ref:l,props:s,_owner:i.current}}t.jsx=a,t.jsxs=a},2322:function(e,t,n){e.exports=n(1837)}}]);