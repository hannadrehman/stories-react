/*! For license information please see 8c866f0f.c6805e37.js.LICENSE.txt */
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[518],{876:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return f}});var r=n(2784);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=c(n),f=o,m=p["".concat(u,".").concat(f)]||p[f]||d[f]||i;return n?r.createElement(m,s(s({ref:t},l),{},{components:n})):r.createElement(m,s({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=p;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var c=2;c<i;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1558:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(2322),o=n(2784),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};var s=(0,o.createContext)({stories:[],width:"100%",height:"100%",defaultDuration:1e4});Object.freeze({MOUSE_DOWN:"mouseDown",MOUSE_UP:"mouseUp",TOUCH_START:"touchStart",TOUCH_END:"touchEnd"});var a=Object.freeze({LEFT:"left",RIGHT:"right"});function u(e){var t=e.onNextClick,n=e.onPrevClick,s=e.onPause,u=e.onResume,c=(0,o.useState)(!1),l=c[0],d=c[1],p=(0,o.useRef)(null);function f(e){e.stopPropagation(),e.preventDefault(),clearTimeout(p.current),p.current=setTimeout((function(){s(),d(!0)}),200)}function m(e,r){if(r.stopPropagation(),r.preventDefault(),clearTimeout(p.current),l)return u(),void d(!1);u(),e!=a.LEFT?t():n()}function h(e){return{onMouseUp:function(t){return m(e,t)},onTouchEnd:function(t){return m(e,t)},onTouchStart:function(e){return f(e)},onMouseDown:function(e){return f(e)}}}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",i({className:"Actions-styles_left__eky50"},h(a.LEFT)),void 0),(0,r.jsx)("div",i({className:"Actions-styles_right__zguoH"},h(a.RIGHT)),void 0)]},void 0)}function c(){return(0,o.useContext)(s)}function l(e){var t,n,s,a,u,l=c().defaultDuration,d=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useState)(!1),m=f[0],h=f[1],y=0,v=.1;return(0,o.useEffect)((function(){e.isPaused?h(!1):e.isActive?h(!0):h(!1)}),[e.isActive,e.isPaused]),(0,o.useEffect)((function(){e.isActive&&d.current&&(d.current.style.width="0px")}),[e.isActive]),(0,o.useEffect)((function(){var t;d.current&&(e.hasStoryPassed?d.current.style.width="".concat(null===(t=null==p?void 0:p.current)||void 0===t?void 0:t.offsetWidth,"px"):e.isActive||(d.current.style.width="0px"))}),[e.hasStoryPassed,e.isActive]),t=function(t){var n;d.current&&p.current&&((y=Number((d.current.style.width||"1px").slice(0,d.current.style.width.length-2))||0)>p.current.offsetWidth?h(!1):(v=(null===(n=null==p?void 0:p.current)||void 0===n?void 0:n.offsetWidth)/((e.story.duration||l)/t),d.current.style.width="".concat(y+v,"px")))},n=m,s=(0,o.useRef)(),a=(0,o.useRef)(),u=(0,o.useRef)(t),(0,o.useEffect)((function(){u.current=t}),[t]),(0,o.useEffect)((function(){return!1!==n?(s.current=requestAnimationFrame((function e(t){if(null!=a.current){var n=t-a.current;u.current(n)}a.current=t,s.current=requestAnimationFrame(e)})),function(){cancelAnimationFrame(s.current),s.current=null,a.current=null}):function(){s.current&&(s.current=null),cancelAnimationFrame(s.current),a.current=null}}),[n]),(0,r.jsx)("div",i({className:"ProgressBar-styles_wrapper__oqUCo",ref:p},{children:(0,r.jsx)("div",{className:"ProgressBar-styles_bar__x0O50",ref:d},void 0)}),void 0)}function d(e){var t=c().stories;return(0,r.jsx)("div",i({className:"progress-styles_wrapper__qQPyW",style:{gridTemplateColumns:"repeat(".concat(t.length,",1fr)")}},{children:t.map((function(t){return(0,r.jsx)(l,{hasStoryPassed:t.index<e.activeStoryIndex,isActive:t.index===e.activeStoryIndex,story:t,isPaused:t.index===e.activeStoryIndex&&e.isPaused},t.index)}))}),void 0)}var p=Object.freeze({IMAGE:"image",VIDEO:"video",COMPONENT:"component"});function f(e){var t=(0,o.useRef)(null),n=(0,o.useState)(!1),s=n[0],a=n[1];return(0,o.useEffect)((function(){[p.IMAGE,p.VIDEO].includes(e.story.type)&&e.onPause()}),[]),(0,o.useEffect)((function(){e.story.type===p.VIDEO&&function(){!function(e,t,n,r){new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(n){switch(n.label){case 0:if(!(e=t.current))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),e.muted=!0,e.play(),[3,4];case 4:return[2]}}))}))}()}),[e.story.type]),(0,o.useEffect)((function(){a(!1)}),[e.story]),(0,r.jsxs)("div",i({className:"Story-styles_wrapper__oJP7j"},{children:[e.story.type===p.IMAGE?(0,r.jsx)("img",{className:"Story-styles_image__hQdW-",src:e.story.url,alt:"story",onLoad:function(){e.onResume()}},void 0):e.story.type===p.VIDEO?(0,r.jsx)("video",{className:"Story-styles_video__RJghk",ref:t,autoPlay:!0,playsInline:!0,"webkit-playsinline":"",controls:!1,src:e.story.url,onLoadedData:function(){console.log("loaded"),e.onResume()}},void 0):e.story.type===p.COMPONENT?(0,r.jsx)("div",i({className:"Story-styles_component__IGrVa"},{children:(0,r.jsx)(e.story.component,{pause:e.onPause,resume:e.onResume,story:e.story},void 0)}),void 0):null,e.story.header&&(0,r.jsx)("div",i({className:"Story-styles_header__-rnWL"},{children:"function"==typeof e.story.header?(0,r.jsx)(e.story.header,{},void 0):e.story.header}),void 0),e.story.seeMore&&(0,r.jsx)("button",i({type:"button",onClick:function(){var t,n;e.onPause(),a(!0),null===(n=(t=e.story).onSeeMoreClick)||void 0===n||n.call(t,e.story.index)},className:"Story-styles_seeMoreWrapper__TLVGk"},{children:function(){var t=e.story.seeMore,n=typeof t;if(["string","boolean"].includes(n)){var o="string"===n?t:"See More";return(0,r.jsxs)("div",i({className:"Story-styles_defaultSeeMore__QbXTZ"},{children:[(0,r.jsx)("span",{children:"^"},void 0),(0,r.jsx)("p",{children:o},void 0)]}),void 0)}return"function"===n?(0,r.jsx)(e.story.seeMore,{},void 0):e.story.seeMore}()}),void 0),s&&e.story.seeMore&&e.story.seeMoreComponent&&(0,r.jsxs)("div",i({className:"Story-styles_seeMoreComponentWrapper__TCOms"},{children:[(0,r.jsx)("button",i({className:"Story-styles_closeIcon__ThM3G",onClick:function(){e.onResume(),a(!1)}},{children:"\u2715"}),void 0),"function"==typeof e.story.seeMoreComponent?(0,r.jsx)(e.story.seeMoreComponent,{},void 0):e.story.seeMoreComponent]}),void 0)]}),e.story.index)}function m(e){var t,n,a,c,l,p,m=e.stories,h=void 0===m?[]:m,y=e.width,v=void 0===y?"100%":y,g=e.height,x=void 0===g?"100%":g,w=e.onStoryChange,b=void 0===w?function(){}:w,_=e.currentIndex,j=void 0===_?0:_,E=e.defaultDuration,S=void 0===E?1e4:E,O=(0,o.useMemo)((function(){return h.map((function(e,t){return i(i({},e),{index:t})}))}),[h]),P=(0,o.useState)(O[j]),k=P[0],T=P[1],C=h.length-1,N=(0,o.useState)(null),M=N[0],D=N[1],R=(0,o.useState)(!1),I=R[0],A=R[1],H={stories:O,width:v,height:x,defaultDuration:S};function L(){k.index<C&&T((function(e){var t=e.index+1;return O[t]}))}function W(){A(!0)}function F(){A(!1)}return(0,o.useEffect)((function(){if(k){var e=k.duration||S;D(e),b(k.index)}}),[k]),t=function(){D(null),L()},n=M,a=I,c=(0,o.useRef)(),l=(0,o.useRef)(n),p=(0,o.useRef)(Date.now()),(0,o.useEffect)((function(){c.current=t}),[t]),(0,o.useEffect)((function(){l.current=n}),[n]),(0,o.useEffect)((function(){if(null!==n&&!1===a){p.current=Date.now();var e=setTimeout((function(){c.current()}),l.current);return function(){return clearTimeout(e)}}return function(){}}),[n,a]),(0,o.useEffect)((function(){a&&(l.current=n-(Date.now()-p.current))}),[a]),(0,r.jsx)(s.Provider,i({value:H},{children:(0,r.jsxs)("div",i({className:"styles_main__-0FEu",style:{width:v,height:x}},{children:[(0,r.jsx)(d,{activeStoryIndex:k.index,isPaused:I},void 0),(0,r.jsx)(f,{onPause:W,onResume:F,story:k},void 0),(0,r.jsx)(u,{onNextClick:L,onPrevClick:function(){k.index>0&&T((function(e){var t=e.index-1;return O[t]}))},onPause:W,onResume:F},void 0)]}),void 0)}),void 0)}},8070:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return p},default:function(){return y},frontMatter:function(){return d},metadata:function(){return f},toc:function(){return m}});var r=n(7896),o=n(1461),i=n(2784),s=n(876),a=n(1558);function u(e){return i.createElement("div",{style:{padding:"8px 16px",display:"flex",alignItems:"center",alignContent:"center","background-color":"#9d9d9d3b",width:"150px"}},i.createElement("div",null,i.createElement("img",{src:e.url,alt:"Avatar",style:{"vertical-align":"middle",width:"40px",height:"40px","border-radius":"50%"}})),i.createElement("div",{style:{marginLeft:"8px"}},i.createElement("p",{style:{color:"white",fontWeight:"500",fontSize:"14px",margin:0}},e.name),i.createElement("p",{style:{color:"white",fontWeight:"400",fontSize:"8px",margin:0}},e.time+" hours ago")))}function c(){var e=[{type:"image",url:"https://images.pexels.com/photos/9470805/pexels-photo-9470805.jpeg?w=300",duration:15e3,header:i.createElement(u,{name:"hannad",url:"https://www.w3schools.com/howto/img_avatar.png",time:"4"})},{type:"image",duration:6e3,url:"https://images.pexels.com/photos/9733197/pexels-photo-9733197.jpeg?w=300",header:i.createElement(u,{name:"john",url:"https://www.w3schools.com/howto/img_avatar2.png",time:"5"})},{duration:7e3,type:"image",url:"https://images.pexels.com/photos/10964888/pexels-photo-10964888.jpeg?w=300",header:i.createElement(u,{name:"Doe",url:"https://www.w3schools.com/w3images/avatar5.png",time:"6"})},{type:"image",url:"https://images.pexels.com/photos/10985425/pexels-photo-10985425.jpeg?w=300",duration:15e3,header:i.createElement(u,{name:"hannad",url:"https://www.w3schools.com/howto/img_avatar.png",time:"4"})}];return i.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginBottom:"16px"}},i.createElement(a.Z,{width:"400px",height:"600px",stories:e}))}var l=["components"],d={sidebar_position:6},p="Stories with Header",f={unversionedId:"tutorial-basics/Header-stories",id:"tutorial-basics/Header-stories",title:"Stories with Header",description:"",source:"@site/docs/tutorial-basics/Header-stories.mdx",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/Header-stories",permalink:"/stories-react/docs/tutorial-basics/Header-stories",editUrl:"https://github.com/hannadrehman/stories-react/tree/main/packages/documentation/docs/tutorial-basics/Header-stories.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Stories with See More",permalink:"/stories-react/docs/tutorial-basics/see-more"},next:{title:"Playground",permalink:"/stories-react/docs/tutorial-basics/playground"}},m=[],h={toc:m};function y(e){var t=e.components,n=(0,o.Z)(e,l);return(0,s.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"stories-with-header"},"Stories with Header"),(0,s.kt)(c,{mdxType:"HeaderStories"}),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx"},"\nimport React from 'react';\nimport Stories from 'stories-react';\nimport 'stories-react/dist/index.css';\n\nfunction Head(props) {\n  return (\n    <div\n      style={{\n        padding: '15px',\n        display: 'flex',\n        alignItems: 'center',\n        alignContent: 'center',\n        'background-color': '#9d9d9d3b',\n        width: '150px',\n      }}\n    >\n      <div>\n        <img\n          src={props.url}\n          alt=\"Avatar\"\n          style={{\n            'vertical-align': 'middle',\n            width: '40px',\n            height: '40px',\n            'border-radius': '50%',\n          }}\n        />\n      </div>\n      <div\n        style={{\n          color: 'white',\n          fontWeight: '500',\n          fontSize: '14px',\n          marginLeft: '12px',\n        }}\n      >\n        <p\n          style={{\n            color: 'white',\n            fontWeight: '500',\n            fontSize: '14px',\n            margin: 0,\n            marginLeft: '12px',\n          }}\n        >\n          {props.name}\n        </p>\n        <p\n          style={{\n            color: 'white',\n            fontWeight: '400',\n            fontSize: '8px',\n            margin: 0,\n            marginLeft: '12px',\n          }}\n        >\n          {`${props.time} hours ago`}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default function HeaderStories() {\n  const stories = [\n    {\n      type: 'image',\n      url: 'https://images.pexels.com/photos/9470805/pexels-photo-9470805.jpeg?w=300',\n      duration: 15000,\n      header: (\n        <Head\n          name=\"hannad\"\n          url=\"https://www.w3schools.com/howto/img_avatar.png\"\n          time=\"4\"\n        />\n      ),\n    },\n    {\n      type: 'image',\n      duration: 6000,\n      url: 'https://images.pexels.com/photos/9733197/pexels-photo-9733197.jpeg?w=300',\n      header: (\n        <Head\n          name=\"john\"\n          url=\"https://www.w3schools.com/howto/img_avatar2.png\"\n          time=\"5\"\n        />\n      ),\n    },\n    {\n      duration: 7000,\n      type: 'image,\n      url: 'https://images.pexels.com/photos/10964888/pexels-photo-10964888.jpeg?w=300',\n      header: (\n        <Head\n          name=\"Doe\"\n          url=\"https://www.w3schools.com/w3images/avatar5.png\"\n          time=\"6\"\n        />\n      ),\n    },\n  ];\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        width: '100%',\n        marginBottom: '16px',\n      }}\n    >\n      <Stories width=\"400px\" height=\"600px\" stories={stories} />\n    </div>\n  );\n}\n'\n")))}y.isMDXComponent=!0},1837:function(e,t,n){n(7320);var r=n(2784),o=60103;if(60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:s.current}}t.jsx=c,t.jsxs=c},2322:function(e,t,n){e.exports=n(1837)}}]);